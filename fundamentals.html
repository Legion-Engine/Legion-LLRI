
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Fundamentals &#8212; Legion-LLRI v0.0.1 alpha documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/nameko.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="LLRI API" href="api/library.html" />
    <link rel="prev" title="Terminology" href="terminology.html" />
   
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Lora:400' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  </head><body>
  
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="api/library.html" title="LLRI API"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="terminology.html" title="Terminology"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Legion-LLRI v0.0.1 alpha documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Fundamentals</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="fundamentals">
<h1>Fundamentals<a class="headerlink" href="#fundamentals" title="Permalink to this headline">¶</a></h1>
<p>This section describes the fundamentals of LLRI’s code design.</p>
<section id="objects">
<h2>Objects<a class="headerlink" href="#objects" title="Permalink to this headline">¶</a></h2>
<p>LLRI objects represent information or pointers needed for rendering. Most objects are created and destroyed by the user, although some objects are acquired through the API.</p>
<section id="acquisition">
<h3>Acquisition<a class="headerlink" href="#acquisition" title="Permalink to this headline">¶</a></h3>
<p>Some objects can be acquired through API usage. For example, adapters are obtained through <a class="reference internal" href="api/classllri_1_1_instance.html#_CPPv4N4llri8Instance17enumerateAdaptersEPNSt6vectorIP7AdapterEE" title="llri::Instance::enumerateAdapters"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">llri::Instance::enumerateAdapters()</span></code></a>.</p>
<p>By convention, all functions prefixed with “enumerate” are acquisition functions, meaning that the resources returned are created/destroyed internally, and the user does not receive any form of ownership over the returned objects.</p>
</section>
<section id="creation">
<h3>Creation<a class="headerlink" href="#creation" title="Permalink to this headline">¶</a></h3>
<p>Most objects are created through create functions. Whenever the user creates an object through a create function, the user obtains the object and the ownership over the object.</p>
<p>By convention, all functions prefixed with “create” are creation functions. Create functions all follow the same format, where the first parameter is a &lt;object&gt;_desc structure (e.g. <a class="reference internal" href="api/structllri_1_1instance__desc.html#_CPPv4N4llri13instance_descE" title="llri::instance_desc"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">llri::instance_desc</span></code></a>), and the second parameter is a pointer-pointer to the object (e.g. <a class="reference internal" href="api/classllri_1_1_instance.html#_CPPv4N4llri8InstanceE" title="llri::Instance"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">llri::Instance</span></code></a>**).</p>
<p>All create functions are matched with a destroy function that takes the object as its only parameter. Created objects should always be destroyed through destroy functions, and never through manual deletion.</p>
</section>
<section id="lifetime">
<h3>Lifetime<a class="headerlink" href="#lifetime" title="Permalink to this headline">¶</a></h3>
<p>Objects in LLRI have a parent-child relationship, where any object created or acquired through another object is considered a “child” of the (“parent”) object. Child objects <strong>can not</strong> outlive their parents, thus each child object <strong>must</strong> be destroyed prior to the destruction of their parent object.</p>
<p>If an object is acquired through a parent object, the child object pointer remains valid for the lifetime of the parent object. For example, if an <a class="reference internal" href="api/classllri_1_1_adapter.html#_CPPv4N4llri7AdapterE" title="llri::Adapter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">llri::Adapter</span></code></a> is acquired through an <a class="reference internal" href="api/classllri_1_1_instance.html#_CPPv4N4llri8InstanceE" title="llri::Instance"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">llri::Instance</span></code></a>, as soon as <a class="reference internal" href="api/function_instance_8hpp_1abb862b375183a6001c70b1c6367e26ed.html#_CPPv4N4llri15destroyInstanceEP8Instance" title="llri::destroyInstance"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">llri::destroyInstance()</span></code></a> is called, the <a class="reference internal" href="api/classllri_1_1_adapter.html#_CPPv4N4llri7AdapterE" title="llri::Adapter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">llri::Adapter</span></code></a> pointer is no longer valid.</p>
</section>
</section>
<section id="extensions">
<h2>Extensions<a class="headerlink" href="#extensions" title="Permalink to this headline">¶</a></h2>
<p>The LLRI API supports various features that may not always be supported by the current environment. These features are available through extensions. LLRI uses extensions extensively to cross the gap between available features for each implementation. Per-extension support is fully <strong>optional</strong>.</p>
<p>Extensions are inserted upon creation of <a class="reference internal" href="api/classllri_1_1_instance.html#_CPPv4N4llri8InstanceE" title="llri::Instance"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">llri::Instance</span></code></a> and <a class="reference internal" href="api/classllri_1_1_device.html#_CPPv4N4llri6DeviceE" title="llri::Device"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">llri::Device</span></code></a>. Instance extensions usually contain application-wide changes such as validation callbacks, and as such their availability tends to depend on machine configuration and/or implementation featureset. Adapter extensions are queried through <a class="reference internal" href="api/classllri_1_1_adapter.html#_CPPv4N4llri7AdapterE" title="llri::Adapter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">llri::Adapter</span></code></a> and tend to depend on hardware/feature limits.</p>
<p>Support for extensions is queried prior to Instance/Device creation, for <a class="reference internal" href="api/classllri_1_1_instance.html#_CPPv4N4llri8InstanceE" title="llri::Instance"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">llri::Instance</span></code></a> extensions this function is <a class="reference internal" href="api/function_instance_8inl_1a2af1479e39e158d70dddc4f1674b49ea.html#_CPPv4N4llri29queryInstanceExtensionSupportE23instance_extension_type" title="llri::queryInstanceExtensionSupport"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">llri::queryInstanceExtensionSupport()</span></code></a>, whereas <a class="reference internal" href="api/classllri_1_1_adapter.html#_CPPv4N4llri7AdapterE" title="llri::Adapter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">llri::Adapter</span></code></a> extensions are queried through <a class="reference internal" href="api/classllri_1_1_adapter.html#_CPPv4NK4llri7Adapter21queryExtensionSupportE22adapter_extension_typePb" title="llri::Adapter::queryExtensionSupport"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">llri::Adapter::queryExtensionSupport()</span></code></a>.</p>
<p>Extensions are passed as an array of extension structures to instance and device description structures. See <a class="reference internal" href="api/structllri_1_1instance__extension.html#_CPPv4N4llri18instance_extensionE" title="llri::instance_extension"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">llri::instance_extension</span></code></a> and <a class="reference internal" href="api/structllri_1_1adapter__extension.html#_CPPv4N4llri17adapter_extensionE" title="llri::adapter_extension"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">llri::adapter_extension</span></code></a> for more.</p>
</section>
<section id="validation">
<h2>Validation<a class="headerlink" href="#validation" title="Permalink to this headline">¶</a></h2>
<p>LLRI is an explicit API. The user has immense control over resource allocation and state, which results in low API/driver overhead. However, with this much control, it is also much easier to make mistakes.</p>
<p>To aid in debugging, LLRI does parameter validation by default (disabled by defining LLRI_DISABLE_API_VALIDATION), and also comes with extensions for implementation validation (implementation message polling is disabled by defining LLRI_DISABLE_IMPLEMENTATION_MESSAGE_POLLING). All validation messages (LLRI validation and implementation validation) are forwarded to the validation_callback passed in <a class="reference internal" href="api/structllri_1_1instance__desc.html#_CPPv4N4llri13instance_descE" title="llri::instance_desc"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">llri::instance_desc</span></code></a>, making it easy for engines to generate informative logs or debug runtime issues.</p>
</section>
<section id="threading">
<h2>Threading<a class="headerlink" href="#threading" title="Permalink to this headline">¶</a></h2>
<p>//TODO Write about CommandLists once they exist</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Fundamentals</a><ul>
<li><a class="reference internal" href="#objects">Objects</a><ul>
<li><a class="reference internal" href="#acquisition">Acquisition</a></li>
<li><a class="reference internal" href="#creation">Creation</a></li>
<li><a class="reference internal" href="#lifetime">Lifetime</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extensions">Extensions</a></li>
<li><a class="reference internal" href="#validation">Validation</a></li>
<li><a class="reference internal" href="#threading">Threading</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation index</a><ul>
      <li>Previous: <a href="terminology.html" title="previous chapter">Terminology</a></li>
      <li>Next: <a href="api/library.html" title="next chapter">LLRI API</a></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/fundamentals.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
  </body>
</html>